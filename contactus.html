<!doctype html>
<html lang="en">

<head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <style>
        /* style css order form  */
        .containerContact {
            border: 1px solid black;
            border-radius: 5px;
            padding: 15px;
        }

        .gridContactLeft {
            grid-area: left;
            width: 100%;
        }

        .gridContactLeft h3 {
            font-size: 30px;
            text-align: center;
        }

        .gridContactLeft input {
            width: 100%;
            border: none;
            border-bottom: 1px solid #ccc;
            padding-left: 0;
            padding-right: 0;
            border-radius: 0;
            background: none;
            outline: none;
            margin-top: 5px;
        }

        .gridContactLeft input:focus {
            border-bottom: 1px solid black;

        }

        .gridContactLeft select {
            width: 100%;
            border: none;
            border-bottom: 1px solid #ccc;
            padding-left: 0;
            padding-right: 0;
            border-radius: 0;
            background: none;
            outline: none;
        }

        .gridContactLeft select:focus {
            border-bottom: 1px solid black;
        }



        .form-control {
            display: block;
            width: 100%;
            height: calc(1.5em + 0.75rem + 2px);
            padding: 0.375rem 0.75rem;
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.5;
            color: #495057;
            background-color: #fff;
            background-clip: padding-box;
            border: 1px solid #ced4da;
            border-radius: 0.25rem;
            -webkit-transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;
            transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;
            -o-transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;
        }

        .gridContactRight {
            grid-area: right;
            width: 100%;
        }
        .formCmtNew{
            grid-area: bottom;
            width: 100%;
        }
        .containerContact {
            width: 90%;
            margin: auto;
            display: grid;
            grid-template-areas:
                'left   left right'
                'bottom bottom bottom';
        }

        .gridContactLeft {
            background-color: white;
        }

        .gridContactRight {
            color: white;
            background-color: #3d89f8;
            text-align: center;
        }

        .containerContact label {
            font-size: 14px;
            color: #b3b3b3;
            margin: 0 0 10px 0;
            display: inline-block;
            padding: 0;
        }

        .contactWork {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }

        .workCont {
            width: 100%;
            margin-right: 20px;
        }

        .namePro {
            width: 100%;
            margin-right: 30px;
        }

        .noteOrder {
            margin-right: 30px;
            margin-top: 15px;
        }

        .buttonSubmit {
            margin-top: 20px;
            margin-bottom: 20px;
        }

        .buttonItem {
            padding: 10px 5px;
            border: none;
            color: white;
            background-color: #35477d;
            font-size: 15px;
        }

        .contentContactRight {
            padding: 5px;
        }

        .buttonItem:not(:disabled):not(.disabled) {
            cursor: pointer;
        }

        /* reponsive  */
        @media only screen and (max-width : 768px) {

            /* Styles */
            .containerContact {
                width: 90%;
                margin: auto;
                display: block;
                height: 100%;
            }

            .contactWork {
                display: block;
                margin-top: 15px;
            }

            .workCont {
                width: 100%;
                margin-right: 0;
                margin-top: 20px;
            }

            .namePro {
                width: 100%;
                margin-right: 0;
                margin-top: 20px;
            }

            .noteOrder {
                margin-right: 0;
                margin-top: 20px;
            }

            #orderForm {
                padding-left: 10px;
                padding-right: 10px;
            }
        }

        #orderForm {
            padding-left: 10px;
        }

        /* end reponsive */
        /* end style css order form  */
        /* comment  */
        /* css cmt  */
        /* comment  */
        .avatarCmtNew {
            display: flex;
            background-color: rgb(212, 212, 212);
            border-radius: 30px 0px 0px 30px;
            align-items: center;
        }

        .comment_parent {
            background-color: #f1f1f1;
            margin-left: 40px;
            padding: 10px;
        }

        .imgCmtNew {
            margin-left: 40px;
            padding: 10px;
        }

        .button-repD-flex {
            display: flex;
            justify-content: end;
        }

        .awnser_commentNew {
            background-color: #f1f1f1;
            margin-left: 40px;
            margin-bottom: 20px;
            padding: 10px;
            border-radius: 0px 0px 10px 10px;
        }

        .avatarNew {
            border: 1px solid rgb(212, 212, 212);
            padding: 10px 15px;
            border-radius: 50%;
            color: black;
            background-color: #00b38f;
        }

        .formCmtNew {
            padding: 0;
            margin: 0;
            font-size: 1.1rem;
        }

        .headCmtFormNew {
            margin-bottom: 5px;
            font-size: 16px;
            color: gray;
            font-weight: 500;
        }

        .infoCmtNew {
            margin: auto;
        }

        .gridCmtNew {
            display: grid;
            grid-template-columns: auto auto;
        }

        .grid-item-cmtNew {
            position: relative;
            text-align: center;
        }

        .grid-item-cmtNew>label {
            display: block;
        }

        .grid-item-cmtNew>input[type="number"]::-webkit-inner-spin-button,
        .grid-item-cmtNew>input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        .form-controlFixNew {
            display: block;
            width: 90% !important;
            margin: auto !important;
            height: calc(1.5em + 0.75rem + 2px) !important;
            font-size: 1rem !important;
            font-weight: 400;
            line-height: 1.5;
            color: #495057 !important;
            background-color: #fff !important;
            background-clip: padding-box;
            border: 1px solid #ced4da !important;
            border-radius: 0.25rem !important;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out !important;
            padding-left: 10px !important;
        }

        .form-controlFixNew:focus {
            color: #495057;
            background-color: #fff;
            border-color: #80bdff;
            outline: 0;
        }

        .labelFieldNew {
            position: absolute;
            top: 25%;
            left: 25px;
            z-index: 10;
            color: grey;
            font-size: 16px;
            pointer-events: none;
            transition: 0.25s ease;
        }

        .form-controlFixNew:not(:placeholder-shown)+.labelFieldNew,
        .form-controlFixNew:focus+.labelFieldNew {
            top: -10px;
            padding-left: 10px;
            padding-right: 10px;
            display: inline-block;
            background-color: #fff;
            color: #80bdff;
        }

        .textarea-cmtNew {
            position: relative;
            margin-top: 15px;
        }

        .form-controlFixTextareaNew {
            display: block;
            width: 95%;
            margin: auto !important;
            height: calc(1.5em + 0.75rem + 2px);
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.5;
            color: #495057;
            background-color: #fff;
            background-clip: padding-box;
            border: 1px solid #ced4da;
            border-radius: 0.25rem;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            padding-left: 10px;
            resize: none;
        }

        .form-controlFixTextareaNew:focus {
            color: #495057;
            background-color: #fff;
            border-color: #80bdff;
            outline: 0;
        }

        .labelFieldTextareaNew {
            position: absolute;
            top: 25%;
            left: 25px;
            z-index: 10;
            color: grey;
            font-size: 16px;
            pointer-events: none;
            transition: 0.25s ease;
        }

        .form-controlFixTextareaNew:not(:placeholder-shown)+.labelFieldTextareaNew,
        .form-controlFixTextareaNew:focus+.labelFieldTextareaNew {
            top: -10px;
            padding-left: 10px;
            padding-right: 10px;
            display: inline-block;
            background-color: #fff;
            color: #80bdff;
        }

        .formBtnCmtNew {
            text-align: right;
            margin-top: 10px;
            margin-right: 15px;
        }

        .formBtn-CmtNew {
            padding: 5px 30px;
            color: black;
            border: 2px solid #fcb900;
            border-radius: 5px;
            background-color: #fcb900 !important;
            font-weight: 600;
            cursor: pointer;
        }

        .formBtn-CmtNew:hover {
            background-color: white;
            color: black;
            border: 2px solid #fcb900;
        }

        .divContentCmtNew {
            /* border: 1px solid grey; */
            border-radius: 5px;
            padding: 0px 10px;
            display: none;
            justify-content: space-between;
        }

        .pContentCmtNew {
            padding: 5px;
        }

        .commentsCmtNew {
            display: block;
            margin-left: 15px;
        }

        .containerCmtNew>li {
            list-style: none;
        }

        .cmtUlNew {
            border-left: 1px solid grey;
            padding-left: 15px;
            margin-bottom: 5px;
        }

        .answerNew {
            margin-top: 10px;
            border-left: 1px solid blue;
            padding-left: 15px;
        }

        .aContentCmtNew {
            text-decoration: none;
        }

        .clearfixCmtNew {
            border: 1px solid grey;
            border-radius: 5px;
            padding: 0px 10px;
        }

        /* commentCard */

        .commentCardNew {
            border-left: 2px solid grey;
            border-radius: 0 0 0 50px;
            padding: 15px;
        }

        .footerContentCmtNew {
            display: flex;
            justify-content: flex-end;
            align-items: center;
        }

        .nameTitleNew {
            color: grey;
            margin: 0px;
        }

        .pContentCmtNew {
            margin-bottom: 5px;
        }

        .footerContentCmtNew a {
            text-decoration: none;
            color: #ffd100;
            border: 1px solid #ffd100;
            border-radius: 5px;
            padding: 5px;
            display: grid;
            margin-bottom: 10px;
            text-align: center;
        }

        .footerContentCmtNew .showReplyNew:hover {
            border: none;
            background-color: #ffd100;
            text-decoration: none;
            color: black;
            border: 1px solid #ffd100;
            border-radius: 5px;
            padding: 5px;
            display: grid;
            margin-bottom: 10px;
            text-align: center;
        }

        .footerContentCmtNew .showCommentNew {
            border: none;
            color: grey;
        }

        .footerContentCmtNew .showCommentNew:hover {
            border: none;
            color: black;
            background-color: none;
        }

        .comment_infoNew {
            color: #00b38f;
            padding-left: 15px;
            width: 100%;
        }

        @media only screen and (min-width: 1024px) {
            .labelFieldNew {
                left: 45px;
            }

            .labelFieldTextareaNew {
                left: 45px;
            }
        }

        .imgUploadNew {
            width: 100%;
            margin: auto;
            text-align: center;
            margin-top: 1.2rem;
            display: grid;
            grid-template-columns: auto auto;
            align-items: center;
        }

        .imgUpLeftNew {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            flex-direction: column-reverse;
        }

        .imgUpLeftNew>label {
            background-color: grey;
            text-align: center;
            width: 50%;
            margin: auto;
            padding: 8px;
            border-radius: 5px;
            cursor: pointer;
        }

        .imgUpRightNew {
            margin-right: 10px;
        }

        .previewNew {
            background-color: #dbdbdb;
            border-radius: 10px;
            text-align: center;
        }

        .previewNew>ol>li>img {
            width: 100px;
            height: 100px;
            padding-top: 10px;
        }

        .previewNew>ol {
            padding-left: 0;
        }

        .previewNew>ol>li {
            list-style: none;
        }

        @media only screen and (max-width: 700px) {
            .imgUploadNew {
                grid-template-columns: auto;
            }

            .imgUpLeftNew {
                margin-bottom: 5px;
            }
        }

        /* popup */
        .overlayNew {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            transition: opacity 500ms;
            visibility: hidden;
            opacity: 0;
            z-index: 12;
        }

        .overlayNew:target {
            visibility: visible;
            opacity: 1;
        }

        .popupNew {
            margin: 20% auto;
            padding: 20px;
            background: #fff;
            border-radius: 5px;
            width: 50%;
            position: relative;
        }

        .popupNew .closeNew {
            position: absolute;
            top: 20px;
            right: 30px;
            transition: all 200ms;
            font-size: 30px;
            font-weight: bold;
            text-decoration: none;
            color: #333;
        }

        .popupNew .closeNew:hover {
            color: #fcb900;
        }

        .popupNew .contentNew {
            max-height: 30%;
            overflow: auto;
        }

        @media screen and (max-width: 700px) {
            .popupNew {
                width: 70%;
            }
        }

        /* button phan hoi  */
        .btn-replayNew {
            border-radius: 10px;
            border: 1px solid orange;
            background-color: white;
            color: orange;
            cursor: pointer;
            padding: 0px 10px;
            margin-top: 3px;
            font-size: 10px !important;
        }

        .btn-replayNew:hover {
            background-color: #fcb900;
            color: white;
            border: 1px solid orange;
        }
    </style>
</head>

<body>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <div class="containerContact">
        <div class="gridContactLeft">
            <h3>Tư Vấn - Báo Giá - Đặt Lịch Ngay</h3>
            <form action="" id="orderForm" method="post">
                <div class="contactWork">
                    <div class="workCont">
                        <label class="yccv">Yêu cầu công việc<span class="required "
                                style="float: none !important;">(*)</span></label>
                        <br>
                        <input class="inputText" type="text" name="cvCont" id="cvCont" required
                            placeholder='Ví dụ: Vệ sinh máy lạnh, sửa máy giặt,...'>
                    </div>
                    <div class="namePro">
                        <label class="ten">Họ Và Tên</label>
                        <input class="inputText" type="text" name="tenCont" id="tenCont" placeholder='Nguyễn Văn A'>
                    </div>
                </div>
                <div class="contactWork">
                    <div class="workCont">
                        <label>Số điện thoại<span class="required " style="float: none !important;">(*)</span></label>
                        <input class="inputTel" type="tel" name="sdtCont" id="sdtCont" placeholder="VD: 0903 532 938"
                            required>
                    </div>
                    <div class="namePro">
                        <label>Ngày làm<span class="required " style="float: none !important;">(*)</span></label>
                        <input type="datetime-local" class="inputDate" name="dateCont" id="dateCont"
                            placeholder="dd-mm-yyyy" required>
                    </div>

                </div>
                <div class="contactWork">
                    <div class="workCont">
                        <label class="spanDiaChi">Địa Chỉ<span class="required "
                                style="float: none !important;">(*)</span></label>
                        <input type="text" class="inputText" name="diaChiCont" placeholder="Số nhà, tên đường"
                            id="diaChiCont" required>
                    </div>
                    <div class="namePro">
                        <label>Quận, Huyện<span class="required " style="float: none !important;">(*)</span></label>
                        <br>
                        <select id="qCont" required>
                            <option value="">Chọn</option>
                            <option value="Quận 1"> Quận 1</option>
                            <option value="Quận 3"> Quận 3</option>
                            <option value="Quận 4"> Quận 4</option>
                            <option value="Quận 5"> Quận 5</option>
                            <option value="Quận 6"> Quận 6</option>
                            <option value="Quận 7"> Quận 7</option>
                            <option value="Quận 8"> Quận 8</option>
                            <option value="Quận 10"> Quận 10</option>
                            <option value="Quận 11"> Quận 11</option>
                            <option value="Quận 12"> Quận 12</option>
                            <option value="TP Thủ Đức">Thành phố Thủ Đức</option>
                            <option value="Bình Tân">Quận Bình Tân</option>
                            <option value="Bình Thạnh">Quận Bình Thạnh</option>
                            <option value="Gò Vấp"> Quận Gò Vấp</option>
                            <option value="Phú Nhuận">Quận Phú Nhuận</option>
                            <option value="Tân Bình">Quận Tân Bình</option>
                            <option value="Tân Phú">Quận Tân Phú</option>
                            <option value="Bình Chánh">Huyện Bình Chánh</option>
                            <option value="Cần Giờ">Huyện Cần Giờ</option>
                            <option value="Củ Chi"> Huyện Củ Chi</option>
                            <option value="Hooc Môn">Huyện Hóc Môn</option>
                            <option value="Nhà Bè"> Huyện Nhà Bè</option>
                            <option value="Dĩ An"> Dĩ An - Bình Dương</option>
                            <option value="Thuận An">Thuận An - Bình Dương</option>
                            <option value="Khác">Khác</option>
                        </select>
                    </div>

                </div>
                <div class="noteOrder">
                    <label>Ghi Chú<span class="required " style="float: none !important;"></span></label>
                    <input type="text" class="inputText" name="ghiChuCont " id="ghiChuCont"
                        placeholder="VD: Mang thang cao,...">
                </div>

                <div class="buttonSubmit" style="text-align: center;">
                    <button class="buttonItem" style="width: 50%;" type="submit">Đặt Lịch</button>
                </div>
            </form>
        </div>
        <div class="gridContactRight">
            <div class="contentContactRight">
                <h3 style="text-align: center; background-color:#3d89f8; color: white ">THỢ VIỆT ĐÃ TIẾP NHẬN VÀ XỬ LÝ
                </h3>
                <div
                    style="color:black; margin: auto; margin-top: 5px; width: fit-content; height: 600px; border-radius: 15px;  justify-content: space-between; overflow: hidden; z-index: 1;">
                    <marquee direction="up" height="100%" data-speed=100 scrollamount="10" hspace="20%" vspace="0%"
                         class="card1">
                        <div id="output1"></div>
                    </marquee>
                </div>
            </div>
        </div>
        <section class="formCmtNew" style="width: 90%; margin: auto;">
            <form id="formCmtTV" action="" method="GET" enctype="multipart/form-data">
                <h4 class="headCmtFormNew">Bình Luận</h4>
                <hr>
                <div id="infoCmtNew">
                    <div class="gridCmtNew">
                        <div class="grid-item-cmtNew">
                            <input type="text" name="name" id="fullName" class="form-controlFixNew" placeholder=" "
                                style="background-color: white;" required>
                            <label class="labelFieldNew" for="name">Tên (<span style="color: red;">*</span>)</label>
                        </div>
                        <div class="grid-item-cmtNew">
                            <input type="number" name="sdt" id="sdt" class=form-controlFixNew" placeholder=" "
                                style="background-color: white;" required>
                                <!-- <input type="tel" pattern="[\+]\d{2}[\(]\d{2}[\)]\d{4}[\-]\d{4}" 
     title="Phone Number format is +99(99)9999-9999" required> -->
                            <label class="labelFieldNew" for="name">Số điện thoại (<span
                                    style="color: red;">*</span>)</label>
                        </div>
                    </div>
                    <div class="textarea-cmtNew">
                        <textarea name="msg" id="textAreaCmt" msg cols="30" rows="1"
                            class="form-controlFixTextareaNew resize-ta"
                            style="background-color: white; overflow: hidden;" placeholder=" " required></textarea>
                        <label class="labelFieldTextareaNew" for="message">Nội dung (<span
                                style="color: red;">*</span>)</label>
                    </div>
                    <div class="imgUploadNew">
                        <div class="imgUpLeftNew">
                            <label for="image_uploads">Chọn hình</label>
                            <input style="display: none;" type="file" class="file-inputNew" id="image_uploads"
                                name="image_uploads" accept=".jpg, .jpeg, .png" multiple />
                        </div>

                        <div class="imgUpRightNew">
                            <div class="previewNew">
                                <!-- <p>Chưa chọn hình.</p> -->
                            </div>
                        </div>

                    </div>

                    <div class="formBtnCmtNew">
                        <button type="submit" id="postcmt" class="formBtn-CmtNew">Bình Luận</button>
                    </div>
                </div>
            </form>
            <div class="blog-commentNew">
                <h4 class="headCmtFormNew"><span class="countClassNew"></span> Bình Luận</h4>
                <hr />
                <!-- comment  -->
                <div class="containerCmtNew"></div>
                <!-- end comment  -->
            </div>
        </section>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
        const ul2 = document.getElementById('output1');
        const list = document.createDocumentFragment();
        // const url = 'https://data.thoviet.com/api/showAllWork';
        const url = 'https://data.thoviet.com/api/list_work_show';
        function load() {
            fetch(url, {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json',
                    // 'Access-Control-Allow-Origin': '*',
                }
            }).then((response) => {
                return response.json();
            }).then((data) => {
                let authors = data;
                console.log(authors);
                authors.map(function (author) {

                    const divItem = document.createElement('div');
                    divItem.innerHTML = `
                        <span style="color:#0619f9;"><b>${author.work_content}</b></span> <br>
                        <span>${author.work_name_cus} - ${author.work_distric}</span> <br>
                        <span><b>${author.work_phone} </b></span>
						<hr>
                    `;
                    ul2.appendChild(divItem);
                });
            }).catch(function (error) {
                console.log(error);
            });
        }
        // output1.appendChild(list);
        // console.log(list);
        load();
    </script>
    <script>
        config = {
            enableTime: false,
            dateFormat: "d-m-Y",
            minDate: "today"
        }
        flatpickr("input[type = datetime-local]", config);
    </script>
    <script>
        const form = document.getElementById('orderForm');
        form.addEventListener('submit', async function (e) {
            e.preventDefault();

            const data1 = {
                yccvCont: document.getElementById('cvCont').value + '&nbsp' + '(' + window.location.href + ')',
                tenCont: document.getElementById('tenCont').value,
                sdtCont: document.getElementById('sdtCont').value,
                quanCont: document.getElementById('qCont').value,
                diaChiCont: document.getElementById('diaChiCont').value,
                dateCont: document.getElementById('dateCont').value,
                ghiChuCont: document.getElementById('ghiChuCont').value,
                from_cus: 1
            }

            try {
                const res = await fetch('https://data.thoviet.com/api/addWork', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        // 'Access-Control-Allow-Origin': '*',
                    },
                    body: JSON.stringify(data1),
                })

                if (res.status !== 200) {
                    const err = new Error("Error")
                    throw err;
                }
                if (confirm('Đặt lịch thành công! Trở về trang chủ')) {
                    window.location.replace('https://thoviet.com.vn/');
                }
                console.log('data', data);
            } catch (error) {
                console.log(error);
            }
        });


    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <div class="containerContact">
        <div class="gridContactLeft">
            <h3>Tư Vấn - Báo Giá - Đặt Lịch Ngay</h3>
            <form action="" id="orderForm" method="post">
                <div class="">
                    <div class="workCont">
                        <label class="yccv">Yêu cầu công việc<span class="required "
                                style="float: none !important;">(*)</span></label>
                        <br>
                        <input class="inputText" type="text" name="cvCont" id="cvCont1" required
                            placeholder='Ví dụ: Vệ sinh máy lạnh, sửa máy giặt,...'>
                    </div>
                    <div class="namePro">
                        <label class="ten">Họ Và Tên</label>
                        <input class="inputText" type="text" name="tenCont" id="tenCont1" placeholder='Nguyễn Văn A'>
                    </div>
                </div>
                <div class="">
                    <div class="workCont">
                        <label>Số điện thoại<span class="required " style="float: none !important;">(*)</span></label>
                        <input class="inputTel" type="tel" name="sdtCont" id="sdtCont1" placeholder="VD: 0903 532 938"
                            required>
                    </div>
                    <div class="namePro">
                        <label>Ngày làm<span class="required " style="float: none !important;">(*)</span></label>
                        <input type="datetime-local" class="inputDate" name="dateCont1" id="dateCont1"
                            placeholder="dd-mm-yyyy" required>
                    </div>

                </div>
                <div class="">
                    <div class="workCont">
                        <label class="spanDiaChi">Địa Chỉ<span class="required "
                                style="float: none !important;">(*)</span></label>
                        <input type="text" class="inputText" name="diaChiCont" placeholder="Số nhà, tên đường"
                            id="diaChiCont1" required>
                    </div>
                    <div class="namePro">
                        <label>Quận, Huyện<span class="required " style="float: none !important;">(*)</span></label>
                        <br>
                        <select id="qCont1" required>
                                                       <option value="">Chọn</option>
                            <option value="Quận 1"> Quận 1</option>
                            <option value="Quận 3"> Quận 3</option>
                            <option value="Quận 4"> Quận 4</option>
                            <option value="Quận 5"> Quận 5</option>
                            <option value="Quận 6"> Quận 6</option>
                            <option value="Quận 7"> Quận 7</option>
                            <option value="Quận 8"> Quận 8</option>
                            <option value="Quận 10"> Quận 10</option>
                            <option value="Quận 11"> Quận 11</option>
                            <option value="Quận 12"> Quận 12</option>
                            <option value="TP Thủ Đức">Thành phố Thủ Đức</option>
                            <option value="Bình Tân">Quận Bình Tân</option>
                            <option value="Bình Thạnh">Quận Bình Thạnh</option>
                            <option value="Gò Vấp"> Quận Gò Vấp</option>
                            <option value="Phú Nhuận">Quận Phú Nhuận</option>
                            <option value="Tân Bình">Quận Tân Bình</option>
                            <option value="Tân Phú">Quận Tân Phú</option>
                            <option value="Bình Chánh">Huyện Bình Chánh</option>
                            <option value="Cần Giờ">Huyện Cần Giờ</option>
                            <option value="Củ Chi"> Huyện Củ Chi</option>
                            <option value="Hooc Môn">Huyện Hóc Môn</option>
                            <option value="Nhà Bè"> Huyện Nhà Bè</option>
                            <option value="Dĩ An"> Dĩ An - Bình Dương</option>
                            <option value="Thuận An">Thuận An - Bình Dương</option>
                            <option value="Khác">Khác</option>
                        </select>
                    </div>

                </div>
                <div class="noteOrder" style="margin-right:0px">
                    <label>Ghi Chú<span class="required " style="float: none !important;"></span></label>
                    <input type="text" class="inputText" name="ghiChuCont " id="ghiChuCont1"
                        placeholder="VD: Mang thang cao,...">
                </div>

                <div class="buttonSubmit" style="text-align: center;">
                    <button class="buttonItem" style="width: 50%;" type="submit">Đặt Lịch</button>

                </div>
            </form>
        </div>
        <div class="gridContactRight" style="word-wrap: break-word; display: none;">
            <div class="contentContactRight">
                <h2 style="text-align: center; background-color:#3d89f8; ">CÔNG TY TNHH DỊCH VỤ KỸ THUẬT THỢ VIỆT
                </h2>
                <p><b>MSDN:</b> 0311158568</p>
                <p><b> Số TK:</b> 119 -0000 -80546 tại NH Công Thương Việt Nam – Chi nhánh 2 TP. HCM ( Vietinbank)</p>
                <p><b>Website:</b> www.thoviet.com.vn</p>
                <p><b>Email:</b> info@thoviet.com.vn</p>
                <p><b>Tel:</b> 1800 8122 (Miễn phí cước gọi)</p>
                <p><b>Hotline:</b> 0903 532 938</p>
            </div>
        </div>

    </div>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
        config = {
            enableTime: false,
            dateFormat: "d-m-Y",
            minDate: "today"
        }
        flatpickr("input[type = datetime-local]", config);
    </script>
    <script>
        const form1 = document.getElementById('orderForm');
        form1.addEventListener('submit', async function (e) {
            e.preventDefault();

            const data1 = {
                yccvCont: document.getElementById('cvCont1').value + '&nbsp' + '(' + window.location.href + ')',
                tenCont: document.getElementById('tenCont1').value,
                sdtCont: document.getElementById('sdtCont1').value,
                quanCont: document.getElementById('qCont1').value,
                diaChiCont: document.getElementById('diaChiCont1').value,
                dateCont: document.getElementById('dateCont1').value,
                ghiChuCont: document.getElementById('ghiChuCont1').value,
                from_cus: 1
            }

            try {
                const res = await fetch('https://data.thoviet.com/api/addWork', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        // 'Access-Control-Allow-Origin': '*',
                    },
                    body: JSON.stringify(data1),
                })

                if (res.status !== 200) {
                    const err = new Error("Error")
                    throw err;
                }
                if (confirm('Đặt lịch thành công! Trở về trang chủ')) {
                    window.location.replace('https://thoviet.com.vn/');
                }
                console.log('data', data);
            } catch (error) {
                console.log(error);
            }
        });

        function calcHeight(value) {
  let numberOfLineBreaks = (value.match(/\n/g) || []).length;
  let newHeight = 20 + numberOfLineBreaks * 20 + 12 + 2;
  return newHeight;
}
let textarea = document.querySelector(".resize-ta");
textarea.addEventListener("keyup", () => {
  textarea.style.height = calcHeight(textarea.value) + "px";
});
// --function comment
var url_con = 'https://data.thoviet.com/api/comment';
console.log(url_con);
fetch(url_con, {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
  }
}).then((response) => {
  return response.json();
}).then((data) => {
  data.map(function (conver) {
    const divItem = document.createElement('ul');
    var stringNameAvatar = conver.comment_parent[0].name_comment;
    var a = stringNameAvatar.toUpperCase().slice(0,1)
    divItem.classList = "cmtUlNew"
    divItem.innerHTML =
      `<div class='par'>
      <div class="avatarCmtNew">
        <span class="avatarNew">${a}</span>
        <div class='comment_infoNew headCmtFormNew'> ${conver.comment_parent[0].name_comment}</div>
      </div>
      <div class='comment_parent'>
        <div class='contentNew'>${conver.comment_parent[0].comment}</div>
        <input type='hidden' id='name_comment${conver.comment_parent[0].id}' value='${conver.comment_parent[0].name_comment}' />
        <input type="hidden" id="text123" value="${conver.comment_parent[0].id}" />`;
        if (conver.comment_parent[0].img_comment_path) {
          divItem.innerHTML +=`<div class="imgCmtNew">
          <a class="button" href="#popup${conver.comment_parent[0].id}">
          <image src ='https://data.thoviet.com/${conver.comment_parent[0].img_comment_path}' width='100px'/>
          
          </a>
          
          <div id="popup${conver.comment_parent[0].id}" class="overlayNew">
            <div class="popupNew">
              <a class="closeNew" href="#">&times;</a>
              <image src ='https://data.thoviet.com/${conver.comment_parent[0].img_comment_path}' width='300px'/>
            </div>
          </div>
          </div>`;}
        
        divItem.innerHTML += ` 
        <div class='button-repD-flex'>
        <button class='btn-replayNew btn btn-sm btn-outline-primary'
          onclick='showReplay(${conver.comment_parent[0].id})'>Phản Hồi</button>
      </div>
      </div>
      <div class='replay${conver.comment_parent[0].id}' style='display:none; margin-top :5px;'>
        <form id="formCmtTVReply" onsubmit="return handleReply(event, ${conver.comment_parent[0].id} )" enctype="multipart/form-data">
          <div id="infoCmt">
            <div class="gridCmtNew">
              <div class="grid-item-cmtNew">
                <input type="text" name="name" id="fullNameReply${conver.comment_parent[0].id}" class="form-controlFixNew" placeholder=" "
                  style="background-color: white;" required>
                <label class="labelFieldNew" for="name">Tên (<span style="color: red;">*</span>)</label>
              </div>
              <div class="grid-item-cmtNew">
                <input type="number" name="sdt" id="sdtReply${conver.comment_parent[0].id}" class="form-controlFixNew" placeholder=" "
                  style="background-color: white;" min="9"  max="10" required>
                <label class="labelFieldNew" for="name">Số điện thoại (<span style="color: red;">*</span>)</label>
              </div>
            </div>
            <div class="textarea-cmtNew">
              <textarea name="msg" id="textAreaCmtReply${conver.comment_parent[0].id}" msg cols="30" rows="1" class="form-controlFixTextareaNew resize-ta"
                style="background-color: white; padding-top:5px; overflow: hidden;" placeholder=" " required></textarea>
              <label class="labelFieldTextareaNew" for="message">Nội dung (<span style="color: red;">*</span>)</label>
            </div>
            <div class="formBtnCmtNew">
              <button type="submit" id="postcmt" class="formBtn_Reply">Bình Luận</button>
            </div>
          </div>
        </form>
      </div>
    </div>
    </div>
    `;
    for (const [key, value] of Object.entries(conver.answer)) {
      var stringAvatarAnswer = conver.answer[key].name_comment;
      var nameAva = stringAvatarAnswer.toUpperCase().slice(0,1)
      if (typeof conver.answer[0] !== 'undefined') {
        divItem.innerHTML +=
          `<div class='answerNew'>
          <div class="avatarCmtNew">
            <span class="avatarNew">${nameAva}</span>
            <div class='comment_infoNew'><em> ${conver.answer[key].name_comment}</em></div>
          </div>
          
          <input type='hidden' id='name_comment${conver.answer[key].id}' value='${conver.answer[key].name_comment}' />
          <input type='hidden' id='name_answer' value='${conver.answer[key].id}' />
          <div class='awnser_commentNew'>
            <div class='content'>${conver.answer[key].comment}</div>
          </div>
        </div>
        `;
      }
    }
    cmtEl.appendChild(divItem);
  });

}).catch(function (error) {
  console.log(error);
});
const btnSubmitCmt = document.querySelector('.formBtn-CmtNew');
const cmtEl = document.querySelector('.containerCmtNew');
const fullNameCmt = document.querySelector('#fullName');
const numberPhone = document.querySelector('#sdt');
const textareaCmtEl = document.querySelector('#textAreaCmt');
const image_uploadsCmt = document.querySelector('#image_uploads');


const formCmt = document.getElementById('formCmtTV');
formCmt.addEventListener('submit', async function (e) {
  e.preventDefault();

  const formDataCmt = new FormData();
  formDataCmt.append('name_comment', document.getElementById('fullName').value);
  formDataCmt.append('phone_comment', document.getElementById('sdt').value);
  formDataCmt.append('comment', document.getElementById('textAreaCmt').value);
  formDataCmt.append('img_comment', document.getElementById('image_uploads').files[0]);
  formDataCmt.append('new_convertition', 1);

  try {
    const res = await fetch('https://data.thoviet.com/api/newConver', {
      method: 'POST',
      body: formDataCmt,
    })

    if (res.status !== 200) {
      const err = new Error("Error")
      throw err;
    }
    const data = await res.json()
    console.log('data', data);
    window.location.reload();

  } catch (error) {
    console.log(error);
  }
});
// const d = document.getElementById('text123').value
async function handleReply(e, id) {
  e.preventDefault();
  console.log("kiem tra", id);
  const formDataReply = new FormData();
  formDataReply.append('name_comment', document.getElementById(`fullNameReply${id}`).value);
  formDataReply.append('phone_comment', document.getElementById(`sdtReply${id}`).value);
  formDataReply.append('answer', document.getElementById(`textAreaCmtReply${id}`).value);
  // formDataReply.append('img_comment', document.getElementById(`image_uploadsReply${id}`).files[0]);
  formDataReply.append('id_comment', id);
  formDataReply.append('new_answer', 1);
  try {
    const res = await fetch('https://data.thoviet.com/api/newAnswer', {
      method: 'POST',
      body: formDataReply,
    })
    if (res.status !== 200) {
      const err = new Error("Error")
      throw err;
    }
    const dataReply = await res.json()
    window.location.reload();
    console.log(dataReply);
  } catch (error) {
    console.log(error);
  }
}

function showReplay(id) {
  console.log("show id", id);
  const replyCmtShow = document.getElementsByClassName('replay' + id).value;
  console.log(replyCmtShow);
  if ($('.replay' + id).css('display') === 'none') {
    $('.replay' + id).css('display', 'block');
  } else {
    $('.replay' + id).css('display', 'none');
  }
}
// function showReplay(id) {
//   console.log("show id", id);
//   const replyCmtShow = document.getElementsByClassName('replay' + id).value;
//   console.log(replyCmtShow);
//   if (replyCmtShow.setAttribute('display') === 'none') {
//   replyCmtShow.setAttribute('display', 'block');
//   } else {
//     replyCmtShow.setAttribute('display', 'none');
//   }
// }
$('input[type=number]').on('mousewheel', function (e) {
  $(e.target).blur();
});
// image Input upload 
const input = document.getElementById('image_uploads');
const preview_img_coment = document.querySelector('.previewNew');
// https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Image_types
const fileTypes = [
  "image/jpeg",
  "image/png"
];

function validFileType(file) {
  return fileTypes.includes(file.type);
}
function returnFileSize(number) {
  if (number < 1024) {
    return `${number} bytes`;
  } else if (number >= 1024 && number < 1048576) {
    return `${(number / 1024).toFixed(1)} KB`;
  } else if (number >= 1048576) {
    return `${(number / 1048576).toFixed(1)} MB`;
  }
}
input.style.opacity = 0;
input.addEventListener('change', updateImageDisplay);
function updateImageDisplay() {
  while (preview_img_coment.firstChild) {
    preview_img_coment.removeChild(preview_img_coment.firstChild);
  }

  const curFiles = input.files;
  if (curFiles.length === 0) {
    const para = document.createElement('p');
    para.textContent = 'Không chọn được hình ảnh';
    preview_img_coment.appendChild(para);
  } else {
    const list = document.createElement('ol');
    preview_img_coment.appendChild(list);

    for (const file of curFiles) {
      const listItem = document.createElement('li');
      const para = document.createElement('p');
      if (validFileType(file)) {
        para.textContent = `Hình ảnh: ${file.name}, kích thước ${returnFileSize(file.size)}.`;
        const image = document.createElement('img');
        image.src = URL.createObjectURL(file);

        listItem.appendChild(image);
        listItem.appendChild(para);
      } else {
        para.textContent = `Hình ${file.name}: Không đúng định dạng`;
        listItem.appendChild(para);
      }

      list.appendChild(listItem);
    }
  }
}
// Reply Image 
// input.style.opacity = 0;
// input.addEventListener('change', updateImageDisplay);
// function updateImageDisplay() {
//   while (preview.firstChild) {
//     preview.removeChild(preview.firstChild);
//   }

//   const curFiles = input.files;
//   if (curFiles.length === 0) {
//     const para = document.createElement('p');
//     para.textContent = 'No files currently selected for upload';
//     preview.appendChild(para);
//   } else {
//     const list = document.createElement('ol');
//     preview.appendChild(list);

//     for (const file of curFiles) {
//       const listItem = document.createElement('li');
//       const para = document.createElement('p');
//       if (validFileType(file)) {
//         para.textContent = `File name ${file.name}, file size ${returnFileSize(file.size)}.`;
//         const image = document.createElement('img');
//         image.src = URL.createObjectURL(file);

//         listItem.appendChild(image);
//         listItem.appendChild(para);
//       } else {
//         para.textContent = `File name ${file.name}: Not a valid file type. Update your selection.`;
//         listItem.appendChild(para);
//       }

//       list.appendChild(listItem);
//     }
//   }
// }
    </script>
    <!-- <div class="containerContact">
                                                                        <div class="gridContactLeft">
                                                                            <h3>Tư Vấn - Báo Giá - Đặt Lịch Ngay</h3>
                                                                            <form action="" id="orderForm" method="post">
                <div class="contactWork">
                    <div class="workCont">
                        <label class="yccv">Yêu cầu công việc <span>(*)</span></label>
                        <br>
                        <input class="inputText" type="text" name="cvCont" id="cvCont" required
                            placeholder='Ví dụ: Vệ sinh máy lạnh, sửa máy giặt,...'>
                    </div>
                    <div class="namePro">
                        <label class="ten">Tên<span>(*)</span></label>
                        <br>
                        <input class="inputText" type="text" name="tenCont" id="tenCont" placeholder='Thợ Việt'>
                    </div>
                </div>
                <div class="contactWork">
                    <div class="workCont">
                        <label>Số điện thoại<span>(*)</span></label>
                        <input class="inputTel" type="tel" name="sdtCont" id="sdtCont" required>
                    </div>
                    <div class="namePro">
                        <label>Ngày làm<span class="required">*</span></label>
                        <input type="date" class="inputDate" name="dateCont" id="dateCont" placeholder="DD-MM-YYYY" required>
                        </div>

                </div>
                <div class="contactWork">
                    <div class="workCont">
                        <label class="spanDiaChi">Địa Chỉ<span>(*)</span></label>
                        <input type="text" class="inputText" name="diaChiCont" placeholder="Số nhà, tên đường" id="diaChiCont" required>
                        </div>
                        <div class="namePro">
                            <label>Quận, Huyện<span class="required">*</span></label> <br>
                            <select id="qCont" class="selectDistrict" required>
                                <option value=""> Quận</option>
                                <option value="Quận 1"> Quận 1</option>
                                <option value="Quận 3"> Quận 3</option>
                                <option value="Quận 4"> Quận 4</option>
                                <option value="Quận 5"> Quận 5</option>
                                <option value="Quận 6"> Quận 6</option>
                                <option value="Quận 7"> Quận 7</option>
                                <option value="Quận 8"> Quận 8</option>
                                <option value="Quận 10"> Quận 10</option>
                                <option value="Quận 11"> Quận 11</option>
                                <option value="Quận12"> Quận 12</option>
                                <option value="TP Thủ Đức">Thành phố Thủ Đức</option>
                                <option value="Bình Tân">Quận Bình Tân</option>
                                <option value="Bình Thạnh">Quận Bình Thạnh</option>
                                <option value="Gò Vấp"> Quận Gò Vấp</option>
                                <option value="Phú Nhuận">Quận Phú Nhuận</option>
                                <option value="Tân Bình">Quận Tân Bình</option>
                                <option value="Tân Phú">Quận Tân Phú</option>
                                <option value="Bình Chánh">Huyện Bình Chánh</option>
                                <option value="Cần Giờ">Huyện Cần Giờ</option>
                                <option value="Củ Chi"> Huyện Củ Chi</option>
                                <option value="Hooc Môn">Huyện Hóc Môn</option>
                                <option value="Nhà Bè"> Huyện Nhà Bè</option>
                            </select>
                            </div>

                </div>
                <div class="noteOrder">
                    <label>Ghi Chú<span class="required">*</span></label>
                    <input type="text" class="inputText" name="ghiChuCont " id="ghiChuCont" required>
                </div>

                <div class="buttonSubmit" style="text-align: center;">
                    <button class="buttonItem" style="width: 50%;" type="submit">Đặt Lịch</button>

                </div>
            </form>
        </div>
        <div class="gridContactRight" style="word-wrap: break-word;">
            <div class="contentContactRight">
                <h2 style="text-align: center; ">CÔNG TY TNHH DỊCH VỤ KỸ THUẬT <br> THỢ VIỆT</h2>
                <p><b> Phạm vi phục vụ:</b> Thợ Việt cung cấp dịch vụ trên khắp các quận, huyện của TPHCM và các tỉnh lân cận.</p>
                <p><b> Đặt biệt:</b> Thợ Việt cung cấp dịch vụ dò nước trên khắp các tỉnh, thành trên cả nước.</p>
                <p><b>Website:</b> www.thoviet.com.vn</p>
                <p><b>Email:</b> info@thoviet.com.vn</p>
                <p><b>Tel:</b> 1800 8122 (Miễn phí cước gọi)</p>
                <p><b>Hotline:</b> 0903 532 938</p>
            </div>
        </div>

    </div>
    <input type="date" data-date="" id="textdat1" data-date-format="DD MMMM YYYY" value="2015-08-09">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script>
        const form = document.getElementById('orderForm');
        form.addEventListener('submit', async function (e) {
            e.preventDefault();
            const data1 = {
                yccvCont: document.getElementById('cvCont').value + '&nbsp' + '(' + window.location.href + ')',
                tenCont: document.getElementById('tenCont').value,
                sdtCont: document.getElementById('sdtCont').value,
                quanCont: document.getElementById('qCont').value,
                diaChiCont: document.getElementById('diaChiCont').value,
                dateCont: document.getElementById('dateCont').value,
                ghiChuCont: document.getElementById('ghiChuCont').value,
                from_cus: 1
            }

            try {
                const res = await fetch('https://data.thoviet.com/api/addWork', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        // 'Access-Control-Allow-Origin': '*',
                    },
                    body: JSON.stringify(data1),
                })

                if (res.status !== 200) {
                    const err = new Error("Error")
                    throw err;
                }
                if (confirm('Đặt lịch thành công! Trở về trang chủ')) {
                    window.location.replace('https://thoviet.vn/');
                }
                console.log('data', data);
            } catch (error) {
                console.log(error);
            }
        });
        const d = new Date("2015-03-25");
        document.getElementById("dateCont").innerHTML = d;
        console.log(d);
        document.getElementById("dateCont").value = moment().format('dd-MM-yyyy');
        console.log();
    </script> -->
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->

</body>

</html>